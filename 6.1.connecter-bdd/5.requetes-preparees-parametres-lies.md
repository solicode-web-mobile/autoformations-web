---
title: RequÃªtes prÃ©parÃ©es et paramÃ¨tres liÃ©s
layout: home
nav_order: 5
parent: Connecter une application Ã  une base de donnÃ©es
permalink: /connecter-application-bdd/requetes-preparees-parametres-lies/
---


# ğŸ“˜ Chapitre â€“ RequÃªtes prÃ©parÃ©es et paramÃ¨tres liÃ©s

## 1. ğŸ¯ Objectif pÃ©dagogique

ÃŠtre capable dâ€™utiliser des **requÃªtes prÃ©parÃ©es** avec **paramÃ¨tres liÃ©s** pour sÃ©curiser les opÃ©rations SQL (CRUD) et Ã©viter les injections SQL.

## 2. ğŸ“š Concepts abordÃ©s

* Avantages des requÃªtes prÃ©parÃ©es (sÃ©curitÃ© et performance)
* MÃ©thodes `prepare()` et `bindParam()` / `bindValue()`
* ParamÃ¨tres nommÃ©s (`:nom`) et paramÃ¨tres anonymes (`?`)
* ExÃ©cution multiple dâ€™une requÃªte prÃ©parÃ©e
* Bonnes pratiques contre les failles dâ€™injection SQL

## 3. ğŸ§  Explication thÃ©orique

Une **requÃªte prÃ©parÃ©e** sÃ©pare la structure de la requÃªte des donnÃ©es fournies par lâ€™utilisateur.
Exemple :

```php
$stmt = $pdo->prepare("SELECT * FROM Utilisateur WHERE email = :email");
$stmt->execute(['email' => 'alice@test.com']);
```

Avantages :

* EmpÃªche les **injections SQL**.
* AmÃ©liore la performance lorsque la mÃªme requÃªte est exÃ©cutÃ©e plusieurs fois.

**DiffÃ©rence bindParam vs bindValue :**

* `bindParam()` lie une variable par rÃ©fÃ©rence (valeur modifiable avant exÃ©cution).
* `bindValue()` lie directement une valeur.

## 4. ğŸ›  Tutoriel pratique

**RÃ©sumÃ© du travail** : SÃ©curiser lâ€™insertion et la recherche dâ€™un utilisateur avec des requÃªtes prÃ©parÃ©es.

**Arborescence projet** :

```
projet_bdd/
 â”œâ”€â”€ connexion.php
 â””â”€â”€ utilisateur_secure.php
```

### Ã‰tape 1 : RequÃªte prÃ©parÃ©e avec paramÃ¨tres nommÃ©s

```php
<?php
require 'connexion.php';

$stmt = $pdo->prepare("INSERT INTO Utilisateur (nom, email) VALUES (:nom, :email)");
$stmt->execute([
    'nom' => 'Alice',
    'email' => 'alice@test.com'
]);
echo "Utilisateur ajoutÃ©.";
```

### Ã‰tape 2 : RequÃªte prÃ©parÃ©e avec bindParam

```php
$nom = 'Bob';
$email = 'bob@test.com';
$stmt = $pdo->prepare("INSERT INTO Utilisateur (nom, email) VALUES (:nom, :email)");
$stmt->bindParam(':nom', $nom);
$stmt->bindParam(':email', $email);
$stmt->execute();
```

### Ã‰tape 3 : RequÃªte SELECT sÃ©curisÃ©e

```php
$stmt = $pdo->prepare("SELECT * FROM Utilisateur WHERE email = :email");
$stmt->execute(['email' => 'alice@test.com']);
$user = $stmt->fetch(PDO::FETCH_ASSOC);
echo "Nom : " . $user['nom'];
```

### Ã‰tape 4 : ParamÃ¨tres anonymes

```php
$stmt = $pdo->prepare("SELECT * FROM Utilisateur WHERE id = ?");
$stmt->execute([1]);
```

## 5. ğŸ§¾ RÃ©sumÃ© et points-clÃ©s

* **prepare() + execute()** sÃ©pare la logique SQL des donnÃ©es.
* Les **paramÃ¨tres liÃ©s** empÃªchent lâ€™exÃ©cution de code SQL injectÃ©.
* `bindParam()` et `bindValue()` offrent un contrÃ´le fin sur la liaison des donnÃ©es.
* Les requÃªtes prÃ©parÃ©es sont indispensables pour sÃ©curiser une application PHP/MySQL.
