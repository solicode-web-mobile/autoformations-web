---
title: InsÃ©rer, mettre Ã  jour et supprimer des enregistrements
layout: home
nav_order: 3
parent: Connecter une application Ã  une base de donnÃ©es
permalink: /connecter-application-bdd/insert-update-delete/
---


# ğŸ“˜ Chapitre â€“ InsÃ©rer, mettre Ã  jour et supprimer des enregistrements

## 1. ğŸ¯ Objectif pÃ©dagogique

ÃŠtre capable dâ€™exÃ©cuter des opÃ©rations **CRUD** (Create, Update, Delete) via PHP/PDO pour manipuler les donnÃ©es dâ€™une table MySQL.

## 2. ğŸ“š Concepts abordÃ©s

* MÃ©thode `prepare()` et `execute()` pour des requÃªtes sÃ©curisÃ©es
* Instruction `INSERT INTO` pour crÃ©er de nouvelles entrÃ©es
* Instruction `UPDATE` pour modifier des donnÃ©es
* Instruction `DELETE` pour supprimer des enregistrements
* VÃ©rification des opÃ©rations avec `rowCount()`

## 3. ğŸ§  Explication thÃ©orique

PDO permet dâ€™insÃ©rer, de modifier et de supprimer des donnÃ©es en toute sÃ©curitÃ© grÃ¢ce aux **requÃªtes prÃ©parÃ©es**.
Lâ€™approche recommandÃ©e :

```php
$stmt = $pdo->prepare("INSERT INTO Utilisateur (nom, email) VALUES (:nom, :email)");
$stmt->execute(['nom' => 'Alice', 'email' => 'alice@test.com']);
```

* **INSERT** ajoute des lignes.
* **UPDATE** modifie des colonnes existantes.
* **DELETE** supprime des enregistrements.

## 4. ğŸ›  Tutoriel pratique

**RÃ©sumÃ© du travail** : CrÃ©er un fichier `actions_utilisateurs.php` pour tester les opÃ©rations CRUD.

**Arborescence projet :**

```
projet_bdd/
 â”œâ”€â”€ connexion.php
 â””â”€â”€ actions_utilisateurs.php
```

### Ã‰tape 1 : Insertion de donnÃ©es

```php
<?php
require 'connexion.php';

try {
    $stmt = $pdo->prepare("INSERT INTO Utilisateur (nom, email) VALUES (:nom, :email)");
    $stmt->execute([
        'nom' => 'Charlie',
        'email' => 'charlie@test.com'
    ]);
    echo "Utilisateur ajoutÃ© avec succÃ¨s.";
} catch (PDOException $e) {
    echo "Erreur : " . $e->getMessage();
}
```

### Ã‰tape 2 : Mise Ã  jour de donnÃ©es

```php
$stmt = $pdo->prepare("UPDATE Utilisateur SET email = :email WHERE id = :id");
$stmt->execute([
    'email' => 'charlie.new@test.com',
    'id' => 3
]);
echo "Utilisateur mis Ã  jour.";
```

### Ã‰tape 3 : Suppression de donnÃ©es

```php
$stmt = $pdo->prepare("DELETE FROM Utilisateur WHERE id = :id");
$stmt->execute(['id' => 3]);
echo "Utilisateur supprimÃ©.";
```

### Ã‰tape 4 : VÃ©rifier les rÃ©sultats

Utiliser :

```php
echo $stmt->rowCount() . " ligne(s) affectÃ©e(s).";
```

## 5. ğŸ§¾ RÃ©sumÃ© et points-clÃ©s

* **prepare() + execute()** sÃ©curise les requÃªtes et Ã©vite lâ€™injection SQL.
* `INSERT INTO`, `UPDATE`, `DELETE` sont les commandes de base du CRUD.
* Utiliser `rowCount()` pour vÃ©rifier les lignes modifiÃ©es ou supprimÃ©es.
* Toujours tester avec `SELECT` avant suppression massive.
