---
title: CrÃ©er une interface interactive pilotÃ©e par Ã©tat
layout: home
nav_order: 8
parent: JavaScript - Aller plus loin
permalink: /javascript-aller-plus-loin/interface-pilotee-etat/
---

# ğŸ“˜ Chapitre â€“ CrÃ©er une interface interactive pilotÃ©e par Ã©tat

## 1. ğŸ¯ Objectif pÃ©dagogique

Apprendre Ã  **gÃ©rer un Ã©tat (state)** en JavaScript pour mettre Ã  jour **dynamiquement lâ€™affichage** dâ€™une page, en fonction des actions de lâ€™utilisateur.

## 2. ğŸ“š Concepts abordÃ©s

* Notion dâ€™**Ã©tat** (donnÃ©es qui dÃ©finissent lâ€™affichage courant)
* Mise Ã  jour du DOM lorsque lâ€™Ã©tat change
* Gestion dâ€™un **panier ou dâ€™une liste dynamique**
* Utilisation dâ€™Ã©vÃ©nements (`click`) pour modifier lâ€™Ã©tat
* Bonnes pratiques pour **sÃ©parer les donnÃ©es et lâ€™affichage**

## 3. ğŸ§  Explication thÃ©orique

Lâ€™**Ã©tat** correspond aux **donnÃ©es en mÃ©moire** qui dÃ©crivent ce que lâ€™interface doit afficher. Lorsquâ€™un utilisateur effectue une action (ajouter/supprimer un produit), **lâ€™Ã©tat est mis Ã  jour**, et lâ€™interface est **re-rendue**.

**Exemple simple :**

```js
let compteur = 0;

function afficher() {
  console.log("Compteur : " + compteur);
}

function incrementer() {
  compteur++;
  afficher();
}

incrementer(); // Affiche "Compteur : 1"
```

Ici, **`compteur`** est lâ€™Ã©tat.

## 4. ğŸ›  Tutoriel pratique

### RÃ©sumÃ©

Nous allons crÃ©er un **mini-panier dâ€™achats** : chaque clic sur un bouton ajoute un produit au panier et met Ã  jour lâ€™affichage.

### Arborescence du projet

```
mon_projet/
â”œâ”€â”€ index.html
â””â”€â”€ script.js
```

### **Ã‰tape 1 : Fichier HTML**

```html
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Interface pilotÃ©e par Ã©tat</title>
  <style>
    .produit { margin-bottom: 10px; }
    .panier { margin-top: 20px; border-top: 1px solid #ccc; padding-top: 10px; }
  </style>
</head>
<body>
  <h1>Boutique</h1>

  <div class="produit">
    <span>PC Portable â€“ 900 â‚¬</span>
    <button data-nom="PC Portable" data-prix="900">Ajouter au panier</button>
  </div>
  <div class="produit">
    <span>Souris â€“ 25 â‚¬</span>
    <button data-nom="Souris" data-prix="25">Ajouter au panier</button>
  </div>

  <div class="panier">
    <h2>Panier</h2>
    <ul id="liste-panier"></ul>
    <p id="total">Total : 0 â‚¬</p>
  </div>

  <script src="script.js"></script>
</body>
</html>
```

### **Ã‰tape 2 : Code JavaScript**

```js
let panier = []; // Ã‰tat : tableau des produits
let listePanier = document.getElementById("liste-panier");
let total = document.getElementById("total");

function afficherPanier() {
  listePanier.innerHTML = "";
  let somme = 0;

  panier.forEach(p => {
    let li = document.createElement("li");
    li.textContent = `${p.nom} â€“ ${p.prix} â‚¬`;
    listePanier.appendChild(li);
    somme += p.prix;
  });

  total.textContent = `Total : ${somme} â‚¬`;
}

let boutons = document.querySelectorAll("button");
boutons.forEach(bouton => {
  bouton.addEventListener("click", function() {
    let produit = {
      nom: this.dataset.nom,
      prix: parseFloat(this.dataset.prix)
    };
    panier.push(produit);
    afficherPanier(); // Mettre Ã  jour l'affichage aprÃ¨s ajout
  });
});
```

### **Ã‰tape 3 : Test**

Ouvre `index.html` et clique sur les boutons pour voir les produits ajoutÃ©s et le total mis Ã  jour en temps rÃ©el.

## 5. ğŸ§¾ RÃ©sumÃ© et points-clÃ©s

* Lâ€™**Ã©tat** est la source unique de vÃ©ritÃ© pour lâ€™affichage.
* Toute modification de lâ€™Ã©tat doit entraÃ®ner une **mise Ã  jour du DOM**.
* Cette logique prÃ©pare aux **frameworks modernes** (React, Vue, etc.) qui reposent sur la notion de state.
