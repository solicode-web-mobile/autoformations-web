---
title: SÃ©curiser la navigation avec les sessions
layout: home
nav_order: 5
parent: Formulaires et navigation sÃ©curisÃ©e
permalink: /formulaires-navigation-securisee/securiser-navigation-sessions/
---

# ğŸ“˜ Chapitre 5 â€“ SÃ©curiser la navigation avec les sessions

## 1. ğŸ¯ Objectif pÃ©dagogique

Mettre en place une navigation sÃ©curisÃ©e en PHP en utilisant **les sessions** pour contrÃ´ler lâ€™accÃ¨s aux pages protÃ©gÃ©es et Ã©viter les usages non autorisÃ©s.

## 2. ğŸ“š Concepts abordÃ©s

* VÃ©rification de lâ€™authentification via `$_SESSION`
* Redirection vers une page de connexion si lâ€™utilisateur nâ€™est pas authentifiÃ©
* Fonction `session_regenerate_id()` pour prÃ©venir le vol de session
* DÃ©connexion sÃ©curisÃ©e avec `session_unset()` et `session_destroy()`
* Protection contre lâ€™accÃ¨s direct aux pages sensibles

## 3. ğŸ§  Explication thÃ©orique

Pour protÃ©ger certaines pages, il faut vÃ©rifier si un utilisateur est **connectÃ©** avant dâ€™afficher le contenu.
Exemple :

```php
session_start();
if (!isset($_SESSION['user'])) {
    header('Location: login.php');
    exit;
}
```

**`session_regenerate_id()`** est utile aprÃ¨s la connexion pour limiter les attaques par fixation de session.

## 4. ğŸ›  Tutoriel pratique

**RÃ©sumÃ© du travail** : CrÃ©er un mini-systÃ¨me dâ€™accÃ¨s sÃ©curisÃ© avec login et page protÃ©gÃ©e.

**Arborescence projet :**

```
projet_php/
 â”œâ”€â”€ login.php
 â”œâ”€â”€ dashboard.php
 â””â”€â”€ logout.php
```

### Ã‰tape 1 : Page de connexion (`login.php`)

```php
<?php
session_start();
if ($_SERVER["REQUEST_METHOD"] === "POST") {
    $nom = $_POST['nom'] ?? '';
    $motdepasse = $_POST['motdepasse'] ?? '';

    if ($nom === "admin" && $motdepasse === "1234") {
        session_regenerate_id(true);
        $_SESSION['user'] = $nom;
        header('Location: dashboard.php');
        exit;
    } else {
        $message = "Identifiants incorrects.";
    }
}
?>
<form method="POST">
    <label>Nom :</label>
    <input type="text" name="nom">
    <label>Mot de passe :</label>
    <input type="password" name="motdepasse">
    <button type="submit">Se connecter</button>
</form>
<?php if (!empty($message)) echo "<p style='color:red;'>$message</p>"; ?>
```

### Ã‰tape 2 : Page protÃ©gÃ©e (`dashboard.php`)

```php
<?php
session_start();
if (!isset($_SESSION['user'])) {
    header('Location: login.php');
    exit;
}
echo "<h1>Bienvenue " . $_SESSION['user'] . " !</h1>";
echo "<a href='logout.php'>Se dÃ©connecter</a>";
```

### Ã‰tape 3 : DÃ©connexion (`logout.php`)

```php
<?php
session_start();
session_unset();
session_destroy();
header('Location: login.php');
exit;
```

## 5. ğŸ§¾ RÃ©sumÃ© et points-clÃ©s

* **ContrÃ´ler lâ€™accÃ¨s** avec `if (!isset($_SESSION['user']))`.
* **`session_regenerate_id()`** empÃªche la fixation de session aprÃ¨s connexion.
* **`session_unset()`** et **`session_destroy()`** terminent la session en toute sÃ©curitÃ©.
* Toujours **rediriger les utilisateurs non connectÃ©s** vers la page de login.
