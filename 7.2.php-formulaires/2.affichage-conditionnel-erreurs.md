---
title: Affichage conditionnel & messages dâ€™erreur
layout: home
nav_order: 2
parent: Formulaires et navigation sÃ©curisÃ©e
permalink: /formulaires-navigation-securisee/affichage-conditionnel-erreurs/
---


# ğŸ“˜ Chapitre 2 â€“ Affichage conditionnel & messages dâ€™erreur

## 1. ğŸ¯ Objectif pÃ©dagogique

ÃŠtre capable de **valider les donnÃ©es** dâ€™un formulaire et dâ€™afficher des **messages dâ€™erreur ou de succÃ¨s** en fonction des entrÃ©es utilisateur.

## 2. ğŸ“š Concepts abordÃ©s

* VÃ©rification de la soumission du formulaire
* Affichage dynamique des messages (erreurs ou succÃ¨s)
* Utilisation de `isset()`, `empty()` et `filter_var()`
* Affichage conditionnel des champs remplis ou invalides
* SÃ©paration logique entre la partie HTML (formulaire) et PHP (traitement)

## 3. ğŸ§  Explication thÃ©orique

Lâ€™affichage conditionnel permet dâ€™**informer lâ€™utilisateur** lorsquâ€™un champ obligatoire est vide ou incorrect.
Les messages peuvent Ãªtre affichÃ©s directement dans la page du formulaire.

**Exemple simple :**

```php
if (empty($_POST['nom'])) {
    echo "Le champ nom est obligatoire.";
}
```

On peut Ã©galement **prÃ©-remplir les champs** en cas dâ€™erreur :

```php
<input type="text" name="nom" value="<?= htmlspecialchars($_POST['nom'] ?? '') ?>">
```

## 4. ğŸ›  Tutoriel pratique

**RÃ©sumÃ© du travail** : CrÃ©er un formulaire et afficher les erreurs/succÃ¨s directement dans la mÃªme page.

**Arborescence projet :**

```
projet_php/
 â””â”€â”€ formulaire_validation.php
```

### Ã‰tape 1 : CrÃ©er le formulaire et le traitement

```php
<?php
$erreurs = [];
$nom = $email = '';

if ($_SERVER["REQUEST_METHOD"] === "POST") {
    $nom = trim($_POST['nom']);
    $email = trim($_POST['email']);

    if (empty($nom)) {
        $erreurs[] = "Le nom est obligatoire.";
    }
    if (empty($email)) {
        $erreurs[] = "L'email est obligatoire.";
    } elseif (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        $erreurs[] = "L'email n'est pas valide.";
    }

    if (empty($erreurs)) {
        echo "<p style='color:green;'>Formulaire envoyÃ© avec succÃ¨s !</p>";
    }
}
?>
<form method="POST" action="">
    <label>Nom :</label>
    <input type="text" name="nom" value="<?= htmlspecialchars($nom) ?>"><br>

    <label>Email :</label>
    <input type="text" name="email" value="<?= htmlspecialchars($email) ?>"><br>

    <button type="submit">Envoyer</button>
</form>
```

### Ã‰tape 2 : Afficher les erreurs

```php
<?php
if (!empty($erreurs)) {
    echo "<ul style='color:red;'>";
    foreach ($erreurs as $err) {
        echo "<li>$err</li>";
    }
    echo "</ul>";
}
?>
```

### Ã‰tape 3 : Tester le formulaire

* Laisser les champs vides pour voir les messages dâ€™erreur.
* Renseigner un email incorrect (ex: `abc@`) pour tester la validation.

## 5. ğŸ§¾ RÃ©sumÃ© et points-clÃ©s

* Les **messages dâ€™erreur** aident Ã  corriger les champs invalides.
* **`htmlspecialchars()`** protÃ¨ge les champs prÃ©-remplis contre les injections HTML.
* Utiliser un tableau `$erreurs` permet de lister plusieurs erreurs en mÃªme temps.
* Les messages de succÃ¨s/confimation doivent Ãªtre affichÃ©s clairement.
