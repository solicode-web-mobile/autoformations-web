---
title: Fonctions d‚Äôagr√©gation & GROUP BY
layout: home
nav_order: 2
parent: Requ√™tes et manipulation SQL
permalink: /requetes-manipulation-sql/fonctions-aggregation-groupby/
---


# üìò Chapitre 2 ‚Äì Fonctions d‚Äôagr√©gation & GROUP BY

## 1. üéØ Objectif p√©dagogique

Apprendre √† utiliser les **fonctions d‚Äôagr√©gation** et la clause **GROUP BY** pour regrouper et analyser les donn√©es dans une base SQL.

## 2. üìö Concepts abord√©s

* Fonctions d‚Äôagr√©gation : `COUNT()`, `SUM()`, `AVG()`, `MIN()`, `MAX()`
* Clause `GROUP BY` pour regrouper les r√©sultats
* Clause `HAVING` pour filtrer les groupes
* Diff√©rence entre `WHERE` et `HAVING`
* Exemple d‚Äôagr√©gation dans une table d‚Äôarticles

## 3. üß† Explication th√©orique

Les **fonctions d‚Äôagr√©gation** permettent de calculer des valeurs √† partir d‚Äôun ensemble de lignes (ex. total d‚Äôarticles, moyenne d‚Äôun champ num√©rique).
La **clause GROUP BY** regroupe les lignes selon une ou plusieurs colonnes.

* `WHERE` filtre **avant** l‚Äôagr√©gation.
* `HAVING` filtre **apr√®s** l‚Äôagr√©gation.

**Exemple simple :**

```sql
SELECT id_utilisateur, COUNT(*) AS nb_articles
FROM Article
GROUP BY id_utilisateur
HAVING COUNT(*) > 2;
```

Cette requ√™te affiche le nombre d‚Äôarticles par utilisateur, uniquement pour ceux qui en ont plus de 2.

## 4. üõ† Tutoriel pratique

**R√©sum√© du travail** : Utiliser les fonctions d‚Äôagr√©gation et GROUP BY sur la table `Article`.

### √âtape 1 : Compter le nombre d‚Äôarticles

```sql
SELECT COUNT(*) AS total_articles FROM Article;
```

### √âtape 2 : Calculer la date la plus r√©cente

```sql
SELECT MAX(date_pub) AS derniere_publication FROM Article;
```

### √âtape 3 : Compter les articles par utilisateur

```sql
SELECT id_utilisateur, COUNT(*) AS nb_articles
FROM Article
GROUP BY id_utilisateur;
```

### √âtape 4 : Filtrer avec HAVING

```sql
SELECT id_utilisateur, COUNT(*) AS nb_articles
FROM Article
GROUP BY id_utilisateur
HAVING COUNT(*) >= 3;
```

### √âtape 5 : Calculer la moyenne d‚Äôun champ

Si un champ `nb_vues` existe :

```sql
SELECT AVG(nb_vues) AS moyenne_vues FROM Article;
```

## 5. üßæ R√©sum√© et points-cl√©s

* Les fonctions `COUNT()`, `SUM()`, `AVG()`, `MIN()`, `MAX()` permettent des calculs globaux.
* `GROUP BY` regroupe les r√©sultats selon une colonne.
* `HAVING` filtre les groupes apr√®s l‚Äôagr√©gation (contrairement √† `WHERE`).
