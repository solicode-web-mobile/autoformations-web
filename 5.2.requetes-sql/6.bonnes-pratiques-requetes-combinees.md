---
title: 6.Bonnes pratiques + requÃªtes combinÃ©es
layout: home
nav_order: 6
parent: RequÃªtes et manipulation SQL
permalink: /requetes-manipulation-sql/bonnes-pratiques-requetes-combinees/
---


# ğŸ“˜ Chapitre 6 â€“ Bonnes pratiques + requÃªtes combinÃ©es

## 1. ğŸ¯ Objectif pÃ©dagogique

Apprendre Ã  Ã©crire des **requÃªtes SQL optimisÃ©es et sÃ©curisÃ©es**, en combinant plusieurs instructions (SELECT, INSERT, UPDATE, DELETE) et en respectant les bonnes pratiques.

## 2. ğŸ“š Concepts abordÃ©s

* RequÃªtes combinÃ©es (exÃ©cution multiple)
* Transactions SQL (`START TRANSACTION`, `COMMIT`, `ROLLBACK`)
* Bonnes pratiques dâ€™Ã©criture et de lisibilitÃ©
* Utilisation de commentaires (`--` ou `/* */`)
* SÃ©curitÃ© : Ã©viter les requÃªtes destructives non filtrÃ©es

## 3. ğŸ§  Explication thÃ©orique

Les **requÃªtes combinÃ©es** permettent dâ€™effectuer plusieurs opÃ©rations dans un mÃªme script.
Les **transactions** garantissent la cohÃ©rence des donnÃ©es :

* `START TRANSACTION` dÃ©marre une transaction.
* `COMMIT` valide les changements.
* `ROLLBACK` annule les opÃ©rations si une erreur survient.

**Exemple de script complet :**

```sql
START TRANSACTION;

INSERT INTO Article (titre, contenu, date_pub, id_utilisateur)
VALUES ('Article test', 'Contenu test', '2025-07-18', 1);

UPDATE Utilisateur SET email = 'test@test.com' WHERE id = 1;

DELETE FROM Commentaire WHERE id = 2;

COMMIT;
```

Si une erreur se produit, on peut utiliser `ROLLBACK` avant `COMMIT` pour annuler.

## 4. ğŸ›  Tutoriel pratique

**RÃ©sumÃ© du travail** : CrÃ©er un script combinant insertion, mise Ã  jour et suppression, avec transaction.

### Ã‰tape 1 : Ajouter des commentaires

```sql
-- Script pour gÃ©rer les donnÃ©es du blog
```

### Ã‰tape 2 : CrÃ©er la transaction

```sql
START TRANSACTION;
```

### Ã‰tape 3 : Combiner les opÃ©rations

```sql
-- Ajout dâ€™un article
INSERT INTO Article (titre, contenu, date_pub, id_utilisateur)
VALUES ('Nouveau post', 'Texte exemple', '2025-07-18', 1);

-- Mise Ã  jour dâ€™un utilisateur
UPDATE Utilisateur
SET email = 'alice.update@test.com'
WHERE id = 1;

-- Suppression dâ€™un commentaire
DELETE FROM Commentaire WHERE id = 3;
```

### Ã‰tape 4 : Valider ou annuler

```sql
COMMIT; -- ou ROLLBACK en cas dâ€™erreur
```

### Ã‰tape 5 : VÃ©rifier

```sql
SELECT * FROM Article;
```

## 5. ğŸ§¾ RÃ©sumÃ© et points-clÃ©s

* Les **transactions** sÃ©curisent les modifications complexes.
* **COMMIT** valide, **ROLLBACK** annule.
* Les **commentaires** amÃ©liorent la lisibilitÃ©.
* Toujours tester les requÃªtes destructives avec un `SELECT` avant exÃ©cution.
